<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
            padding: 15px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 22px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 3px solid #666;
        }
        
        .problem-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #ccc;
        }
        
        .problem-text {
            font-size: 16px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 15px;
        }
        
        .device-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }
        
        .device-card {
            background: white;
            border: 3px solid #999;
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .device-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .device-card.selected {
            background: #d0d0d0;
            border-color: #333;
        }
        
        .device-name {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .device-info {
            font-size: 15px;
            color: #555;
            line-height: 1.6;
        }
        
        .selection-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 35px;
            height: 35px;
            background: #333;
            color: white;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        
        .device-card.selected .selection-badge {
            display: flex;
        }
        
        .question-section {
            background: #e8e8e8;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #999;
        }
        
        .question-text {
            font-size: 17px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .answer-display {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 20px;
            text-align: center;
            color: #333;
            border: 2px solid #999;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }
        
        .new-problem-btn {
            background: linear-gradient(135deg, #666 0%, #333 100%);
        }
        
        .new-problem-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #555 0%, #222 100%);
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d4edda;
            border: 3px solid #6c757d;
            color: #155724;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            border: 3px solid #666;
            color: #721c24;
        }
        
        .feedback-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .feedback-content {
            font-size: 15px;
            line-height: 1.8;
        }
        
        .solution {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border: 2px solid #999;
        }
        
        .solution-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .formula {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            border: 1px solid #999;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ ë¬¸ì œ</h1>
        
        <div class="problem-section">
            <div class="problem-text" id="problemText"></div>
            
            <div class="device-grid" id="deviceGrid"></div>
            
            <div class="question-section">
                <div class="question-text">ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ê²ƒë¶€í„° ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•˜ì‹œì˜¤.</div>
                <div class="answer-display" id="answerDisplay">ê¸°ê¸°ë¥¼ í´ë¦­í•˜ì—¬ ìˆœì„œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
            </div>
        </div>
        
        <div class="button-group">
            <button class="new-problem-btn" onclick="generateNewProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
            <button class="submit-btn" id="submitBtn" onclick="checkAnswer()" disabled>âœ“ ì •ë‹µ í™•ì¸</button>
        </div>
        
        <div class="feedback" id="feedback"></div>
    </div>

    <script>
        let currentProblem = {};
        let selectedOrder = [];
        
        function generateNewProblem() {
            // ëœë¤ ê°’ ìƒì„± (10~100, 10ë‹¨ìœ„)
            const getRandomValue = () => (Math.floor(Math.random() * 20) + 1) * 10;
            
            const devices = [
                {
                    id: 'A',
                    name: 'ì „ê¸°íˆí„° A',
                    power: getRandomValue(),
                    heat: getRandomValue()
                },
                {
                    id: 'B',
                    name: 'ì „ê¸°íˆí„° B',
                    power: getRandomValue(),
                    heat: getRandomValue()
                },
                {
                    id: 'C',
                    name: 'ì „ê¸°íˆí„° C',
                    power: getRandomValue(),
                    heat: getRandomValue()
                }
            ];
            
            // íš¨ìœ¨ ê³„ì‚° ë° ì •ë ¬
            devices.forEach(device => {
                device.efficiency = (device.heat / device.power) * 100;
            });
            
            devices.sort((a, b) => b.efficiency - a.efficiency);
            const correctAnswer = devices.map(d => d.id).join(' > ');
            
            currentProblem = {
                devices: devices,
                correctAnswer: correctAnswer
            };
            
            selectedOrder = [];
            updateDisplay();
            hideFeedback();
        }
        
        function updateDisplay() {
            // ë¬¸ì œ í…ìŠ¤íŠ¸
            document.getElementById('problemText').innerHTML = 
                `ë‹¤ìŒì€ ì„¸ ê°€ì§€ ì „ê¸°íˆí„°ì˜ ì†Œë¹„ì „ë ¥ê³¼ ë°œì—´ëŸ‰ì„ ë‚˜íƒ€ë‚¸ ê²ƒì…ë‹ˆë‹¤.`;
            
            // ê¸°ê¸° ì¹´ë“œ (ì•ŒíŒŒë²³ ìˆœì„œë¡œ í‘œì‹œ)
            const sortedDevices = [...currentProblem.devices].sort((a, b) => a.id.localeCompare(b.id));
            const deviceGrid = document.getElementById('deviceGrid');
            deviceGrid.innerHTML = '';
            
            sortedDevices.forEach(device => {
                const index = selectedOrder.indexOf(device.id);
                const card = document.createElement('div');
                card.className = 'device-card' + (index !== -1 ? ' selected' : '');
                card.onclick = () => toggleSelection(device.id);
                card.innerHTML = `
                    <div class="selection-badge">${index + 1}</div>
                    <div class="device-name">${device.name}</div>
                    <div class="device-info">
                        â€¢ ì†Œë¹„ì „ë ¥: ${device.power}W<br>
                        â€¢ ë°œì—´ëŸ‰: ${device.heat}W
                    </div>
                `;
                deviceGrid.appendChild(card);
            });
            
            // ë‹µì•ˆ í‘œì‹œ
            const answerDisplay = document.getElementById('answerDisplay');
            if (selectedOrder.length === 0) {
                answerDisplay.textContent = 'ê¸°ê¸°ë¥¼ í´ë¦­í•˜ì—¬ ìˆœì„œë¥¼ ì„ íƒí•˜ì„¸ìš”';
            } else {
                answerDisplay.textContent = selectedOrder.join(' > ');
            }
            
            // ì œì¶œ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('submitBtn').disabled = selectedOrder.length !== 3;
        }
        
        function toggleSelection(deviceId) {
            const index = selectedOrder.indexOf(deviceId);
            
            if (index !== -1) {
                // ì´ë¯¸ ì„ íƒëœ ê²½ìš° ì„ íƒ ì·¨ì†Œ
                selectedOrder.splice(index, 1);
            } else {
                // ìƒˆë¡œ ì„ íƒ
                if (selectedOrder.length < 3) {
                    selectedOrder.push(deviceId);
                }
            }
            
            updateDisplay();
            hideFeedback();
        }
        
        function checkAnswer() {
            const userAnswer = selectedOrder.join(' > ');
            const isCorrect = userAnswer === currentProblem.correctAnswer;
            
            const feedback = document.getElementById('feedback');
            feedback.className = 'feedback show ' + (isCorrect ? 'correct' : 'incorrect');
            
            let solutionHTML = '<div class="solution"><div class="solution-title">ğŸ“š í’€ì´ ê³¼ì •</div>';
            
            // ì´ë¡  ì„¤ëª…
            solutionHTML += `
                <p><strong>â–  ì—ë„ˆì§€ íš¨ìœ¨ ì´ë¡ </strong></p>
                <p>ì—ë„ˆì§€ íš¨ìœ¨ì€ íˆ¬ì…í•œ ì—ë„ˆì§€ ëŒ€ë¹„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœ ì—ë„ˆì§€ì˜ ë¹„ìœ¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                <div class="formula">ì—ë„ˆì§€ íš¨ìœ¨(%) = (ìœ ìš©í•œ ì—ë„ˆì§€ ì¶œë ¥ / ì—ë„ˆì§€ ì…ë ¥) Ã— 100</div>
                <p>ì „ê¸°íˆí„°ì˜ ê²½ìš°:</p>
                <div class="formula">ì—ë„ˆì§€ íš¨ìœ¨(%) = (ë°œì—´ëŸ‰ / ì†Œë¹„ì „ë ¥) Ã— 100</div>
                <br>
                <p><strong>â–  ê° ê¸°ê¸°ì˜ ì—ë„ˆì§€ íš¨ìœ¨ ê³„ì‚°</strong></p>
            `;
            
            currentProblem.devices.forEach(device => {
                solutionHTML += `
                    <p><strong>${device.name}:</strong><br>
                    íš¨ìœ¨ = (${device.heat}W / ${device.power}W) Ã— 100 = ${device.efficiency.toFixed(1)}%</p>
                `;
            });
            
            solutionHTML += `
                <br>
                <p><strong>â–  íš¨ìœ¨ ìˆœì„œ ë¹„êµ</strong></p>
                <p>íš¨ìœ¨ì´ ë†’ì€ ìˆœì„œ: ${currentProblem.correctAnswer}</p>
                <p style="margin-top: 10px; color: #666;">
                    ğŸ’¡ ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ê°™ì€ ì „ë ¥ìœ¼ë¡œ ë” ë§ì€ ì—´ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆì–´ ì—ë„ˆì§€ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
                </p>
            `;
            
            solutionHTML += '</div>';
            
            if (isCorrect) {
                feedback.innerHTML = `
                    <div class="feedback-title">âœ… ì •ë‹µì…ë‹ˆë‹¤!</div>
                    <div class="feedback-content">
                        <p>ì—ë„ˆì§€ íš¨ìœ¨ ìˆœì„œë¥¼ ì •í™•í•˜ê²Œ íŒŒì•…í•˜ì…¨ìŠµë‹ˆë‹¤.</p>
                        ${solutionHTML}
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div class="feedback-title">âŒ ì˜¤ë‹µì…ë‹ˆë‹¤</div>
                    <div class="feedback-content">
                        <p>ì…ë ¥í•œ ë‹µ: ${userAnswer}</p>
                        <p>ì •ë‹µ: ${currentProblem.correctAnswer}</p>
                        ${solutionHTML}
                    </div>
                `;
            }
        }
        
        function hideFeedback() {
            document.getElementById('feedback').className = 'feedback';
        }
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>