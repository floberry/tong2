<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—ë„ˆì§€íš¨ìœ¨ ë¹„êµ ë¬¸ì œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f5f5f5;
            padding: 15px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 20px;
            margin-bottom: 15px;
            text-align: center;
            color: #333;
        }
        
        .problem-text {
            background-color: #f9f9f9;
            padding: 15px;
            border: 2px solid #333;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 13px;
        }
        
        th, td {
            border: 1px solid #333;
            padding: 8px;
            text-align: center;
        }
        
        th {
            background-color: #e0e0e0;
            font-weight: bold;
        }
        
        .question {
            font-weight: bold;
            margin: 15px 0;
            font-size: 15px;
        }
        
        .question-section {
            background-color: #f9f9f9;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
            font-size: 14px;
        }
        
        .input-group label {
            flex: 1;
            font-weight: bold;
        }
        
        .input-group input {
            width: 80px;
            padding: 8px;
            font-size: 14px;
            border: 2px solid #333;
            border-radius: 5px;
            text-align: center;
        }
        
        .input-group span {
            font-weight: bold;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 20px 0;
        }
        
        .option {
            background-color: #fff;
            border: 2px solid #333;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .option:hover {
            background-color: #f0f0f0;
        }
        
        .option.selected {
            background-color: #333;
            color: white;
        }
        
        .option .number {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #666;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
        }
        
        .option.selected .number {
            background-color: white;
            color: #333;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .new-problem {
            background-color: #333;
            color: white;
        }
        
        .new-problem:hover {
            background-color: #555;
        }
        
        .check-answer {
            background-color: #666;
            color: white;
        }
        
        .check-answer:hover {
            background-color: #888;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            display: none;
            background-color: #f9f9f9;
            border: 2px solid #333;
        }
        
        .result.show {
            display: block;
        }
        
        .result h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
        }
        
        .correct {
            color: #2d5016;
            font-weight: bold;
        }
        
        .incorrect {
            color: #8b0000;
            font-weight: bold;
        }
        
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: white;
            border-left: 4px solid #333;
            font-size: 13px;
            line-height: 1.8;
        }
        
        .explanation h3 {
            font-size: 15px;
            margin-bottom: 10px;
            color: #333;
        }
        
        .calculation {
            background-color: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš¡ ì—ë„ˆì§€íš¨ìœ¨ ë¹„êµ ë¬¸ì œ</h1>
        
        <div class="problem-text">
            <p style="margin-bottom: 10px;">í‘œëŠ” LED ì „ë“± A, B, Cë¥¼ ì‚¬ìš©í•  ë•Œì˜ ì—ë„ˆì§€ ì‚¬ìš©ì„ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤.</p>
            
            <table id="dataTable">
                <tr>
                    <th>ì¡°ëª… ê¸°êµ¬</th>
                    <th>1ì´ˆ ë™ì•ˆ ì‚¬ìš©í•œ<br>ì „ê¸° ì—ë„ˆì§€(J)</th>
                    <th colspan="3">1ì´ˆ ë™ì•ˆ ë°œìƒí•œ ì—ë„ˆì§€(J)</th>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th>ë¹›</th>
                    <th>ì—´</th>
                    <th>ê¸°íƒ€</th>
                </tr>
                <tr>
                    <td>LED ì „ë“± A</td>
                    <td id="ledA-input">30</td>
                    <td id="ledA-light">2</td>
                    <td id="ledA-heat">27</td>
                    <td id="ledA-other">1</td>
                </tr>
                <tr>
                    <td>LED ì „ë“± B</td>
                    <td id="ledB-input">25</td>
                    <td id="ledB-light">5</td>
                    <td id="ledB-heat">19</td>
                    <td id="ledB-other">1</td>
                </tr>
                <tr>
                    <td>LED ì „ë“± C</td>
                    <td id="ledC-input">20</td>
                    <td id="ledC-light">12</td>
                    <td id="ledC-heat">7</td>
                    <td id="ledC-other">1</td>
                </tr>
            </table>
        </div>
        
        <div class="question-section">
            <p class="question">1) ê° ì¡°ëª… ê¸°êµ¬ì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ êµ¬í•˜ì‹œì˜¤.</p>
            <div class="input-group">
                <label>LED ì „ë“± A:</label>
                <input type="number" id="input-ledA" placeholder="0">
                <span>%</span>
            </div>
            <div class="input-group">
                <label>LED ì „ë“± B:</label>
                <input type="number" id="input-ledB" placeholder="0">
                <span>%</span>
            </div>
            <div class="input-group">
                <label>LED ì „ë“± C:</label>
                <input type="number" id="input-ledC" placeholder="0">
                <span>%</span>
            </div>
        </div>
        
        <div class="question-section">
            <p class="question">2) LED ì „ë“± A, B, Cì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ ì˜³ê²Œ ë¹„êµí•œ ê²ƒì€?</p>
            <div class="options" id="options">
                <div class="option" data-answer="1">
                    <div class="number"></div>
                    <span id="option1">â‘  LED ì „ë“± A > LED ì „ë“± B > LED ì „ë“± C</span>
                </div>
                <div class="option" data-answer="2">
                    <div class="number"></div>
                    <span id="option2">â‘¡ LED ì „ë“± A > LED ì „ë“± C > LED ì „ë“± B</span>
                </div>
                <div class="option" data-answer="3">
                    <div class="number"></div>
                    <span id="option3">â‘¢ LED ì „ë“± B > LED ì „ë“± A > LED ì „ë“± C</span>
                </div>
                <div class="option" data-answer="4">
                    <div class="number"></div>
                    <span id="option4">â‘£ LED ì „ë“± C > LED ì „ë“± A > LED ì „ë“± B</span>
                </div>
                <div class="option" data-answer="5">
                    <div class="number"></div>
                    <span id="option5">â‘¤ LED ì „ë“± C > LED ì „ë“± B > LED ì „ë“± A</span>
                </div>
            </div>
        </div>
        
        <div class="buttons">
            <button class="new-problem" onclick="generateNewProblem()">ìƒˆ ë¬¸ì œ</button>
            <button class="check-answer" onclick="checkAnswer()">ì •ë‹µ ë³´ê¸°</button>
        </div>
        
        <div class="result" id="result">
            <h2 id="resultTitle"></h2>
            <div class="explanation" id="explanation"></div>
        </div>
    </div>

    <script>
        let selectedOption = null;
        let currentAnswer = 5;
        let currentData = {};
        let answerOrder = '';
        
        function generateNewProblem() {
            // ì‰¬ìš´ ìˆ«ì ì¡°í•© (ê³„ì‚°í•˜ê¸° í¸í•œ ìˆ«ì)
            const easyProblems = [
                // A, B, C ìˆœì„œë¡œ (íˆ¬ì…, ë¹›) - ë‹¤ì–‘í•œ íš¨ìœ¨ ìˆœì„œ
                {ledA: {input: 20, light: 2}, ledB: {input: 20, light: 4}, ledC: {input: 20, light: 10}},   // C>B>A
                {ledA: {input: 30, light: 15}, ledB: {input: 30, light: 6}, ledC: {input: 30, light: 3}},  // A>B>C
                {ledA: {input: 40, light: 8}, ledB: {input: 40, light: 20}, ledC: {input: 40, light: 4}},  // B>A>C
                {ledA: {input: 50, light: 5}, ledB: {input: 50, light: 25}, ledC: {input: 50, light: 10}}, // B>C>A
                {ledA: {input: 30, light: 6}, ledB: {input: 40, light: 10}, ledC: {input: 50, light: 30}}, // C>B>A
                {ledA: {input: 40, light: 24}, ledB: {input: 30, light: 9}, ledC: {input: 20, light: 4}},  // A>B>C
                {ledA: {input: 50, light: 10}, ledB: {input: 40, light: 12}, ledC: {input: 30, light: 18}}, // C>B>A
                {ledA: {input: 20, light: 12}, ledB: {input: 30, light: 9}, ledC: {input: 40, light: 8}}   // A>B>C
            ];
            
            const selected = easyProblems[Math.floor(Math.random() * easyProblems.length)];
            
            const ledAInput = selected.ledA.input;
            const ledALight = selected.ledA.light;
            const ledAOther = 1;
            const ledAHeat = ledAInput - ledALight - ledAOther;
            
            const ledBInput = selected.ledB.input;
            const ledBLight = selected.ledB.light;
            const ledBOther = 1;
            const ledBHeat = ledBInput - ledBLight - ledBOther;
            
            const ledCInput = selected.ledC.input;
            const ledCLight = selected.ledC.light;
            const ledCOther = 1;
            const ledCHeat = ledCInput - ledCLight - ledCOther;
            
            currentData = {
                ledA: { input: ledAInput, light: ledALight, heat: ledAHeat, other: ledAOther },
                ledB: { input: ledBInput, light: ledBLight, heat: ledBHeat, other: ledBOther },
                ledC: { input: ledCInput, light: ledCLight, heat: ledCHeat, other: ledCOther }
            };
            
            document.getElementById('ledA-input').textContent = ledAInput;
            document.getElementById('ledA-light').textContent = ledALight;
            document.getElementById('ledA-heat').textContent = ledAHeat;
            document.getElementById('ledA-other').textContent = ledAOther;
            
            document.getElementById('ledB-input').textContent = ledBInput;
            document.getElementById('ledB-light').textContent = ledBLight;
            document.getElementById('ledB-heat').textContent = ledBHeat;
            document.getElementById('ledB-other').textContent = ledBOther;
            
            document.getElementById('ledC-input').textContent = ledCInput;
            document.getElementById('ledC-light').textContent = ledCLight;
            document.getElementById('ledC-heat').textContent = ledCHeat;
            document.getElementById('ledC-other').textContent = ledCOther;
            
            // íš¨ìœ¨ ê³„ì‚°
            const effA = ledALight / ledAInput;
            const effB = ledBLight / ledBInput;
            const effC = ledCLight / ledCInput;
            
            // íš¨ìœ¨ ìˆœì„œ ê²°ì • ë° ì„ íƒì§€ ì—…ë°ì´íŠ¸
            const effData = [
                {name: 'A', eff: effA},
                {name: 'B', eff: effB},
                {name: 'C', eff: effC}
            ];
            effData.sort((a, b) => b.eff - a.eff);
            
            answerOrder = effData[0].name + '>' + effData[1].name + '>' + effData[2].name;
            
            // ì„ íƒì§€ ìƒì„± (6ê°€ì§€ ê°€ëŠ¥í•œ ìˆœì„œ)
            const allOrders = [
                'A>B>C',
                'A>C>B',
                'B>A>C',
                'C>A>B',
                'C>B>A',
                'B>C>A'
            ];
            
            // ì •ë‹µì´ í¬í•¨ë˜ë„ë¡ 5ê°œ ì„ íƒ
            let options = [answerOrder];
            const otherOrders = allOrders.filter(o => o !== answerOrder);
            while (options.length < 5) {
                const randomOrder = otherOrders[Math.floor(Math.random() * otherOrders.length)];
                if (!options.includes(randomOrder)) {
                    options.push(randomOrder);
                }
            }
            
            // ì„ê¸°
            options.sort(() => Math.random() - 0.5);
            
            // ì •ë‹µ ë²ˆí˜¸ ì°¾ê¸°
            currentAnswer = options.indexOf(answerOrder) + 1;
            
            // ì„ íƒì§€ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            options.forEach((order, index) => {
                const parts = order.split('>');
                document.getElementById('option' + (index + 1)).textContent = 
                    'â‘ â‘¡â‘¢â‘£â‘¤'[index] + ' LED ì „ë“± ' + parts[0] + ' > LED ì „ë“± ' + parts[1] + ' > LED ì „ë“± ' + parts[2];
            });
            
            // ì…ë ¥ê°’ ì´ˆê¸°í™”
            document.getElementById('input-ledA').value = '';
            document.getElementById('input-ledB').value = '';
            document.getElementById('input-ledC').value = '';
            
            // ì„ íƒ ì´ˆê¸°í™”
            selectedOption = null;
            document.querySelectorAll('.option').forEach((opt, index) => {
                opt.classList.remove('selected');
                opt.querySelector('.number').textContent = '';
            });
            
            // ê²°ê³¼ ìˆ¨ê¸°ê¸°
            document.getElementById('result').classList.remove('show');
        }
        
        document.querySelectorAll('.option').forEach((option, index) => {
            option.addEventListener('click', function() {
                // ì´ì „ ì„ íƒ ì œê±°
                document.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                    opt.querySelector('.number').textContent = '';
                });
                
                // ìƒˆë¡œìš´ ì„ íƒ
                this.classList.add('selected');
                this.querySelector('.number').textContent = 'âœ“';
                selectedOption = parseInt(this.dataset.answer);
                
                // ê²°ê³¼ ìˆ¨ê¸°ê¸°
                document.getElementById('result').classList.remove('show');
            });
        });
        
        function checkAnswer() {
            // 1ë²ˆ ë¬¸ì œ ë‹µì•ˆ í™•ì¸
            const userLedA = parseFloat(document.getElementById('input-ledA').value);
            const userLedB = parseFloat(document.getElementById('input-ledB').value);
            const userLedC = parseFloat(document.getElementById('input-ledC').value);
            
            // 2ë²ˆ ë¬¸ì œ ë‹µì•ˆ í™•ì¸
            if (isNaN(userLedA) || isNaN(userLedB) || isNaN(userLedC)) {
                alert('1ë²ˆ ë¬¸ì œì˜ ì—ë„ˆì§€ íš¨ìœ¨ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            if (selectedOption === null) {
                alert('2ë²ˆ ë¬¸ì œì˜ ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const resultDiv = document.getElementById('result');
            const resultTitle = document.getElementById('resultTitle');
            const explanation = document.getElementById('explanation');
            
            // ì •ë‹µ ê³„ì‚°
            const correctLedA = (currentData.ledA.light / currentData.ledA.input * 100).toFixed(1);
            const correctLedB = (currentData.ledB.light / currentData.ledB.input * 100).toFixed(1);
            const correctLedC = (currentData.ledC.light / currentData.ledC.input * 100).toFixed(1);
            
            // 1ë²ˆ ë¬¸ì œ ì±„ì  (ì˜¤ì°¨ ë²”ìœ„ Â±0.5)
            const isLedACorrect = Math.abs(userLedA - correctLedA) <= 0.5;
            const isLedBCorrect = Math.abs(userLedB - correctLedB) <= 0.5;
            const isLedCCorrect = Math.abs(userLedC - correctLedC) <= 0.5;
            
            // 2ë²ˆ ë¬¸ì œ ì±„ì 
            const isComparisonCorrect = selectedOption === currentAnswer;
            
            // ì „ì²´ ì •ì˜¤ë‹µ íŒì •
            const isAllCorrect = isLedACorrect && isLedBCorrect && isLedCCorrect && isComparisonCorrect;
            
            if (isAllCorrect) {
                resultTitle.innerHTML = '<span class="correct">âœ“ ëª¨ë‘ ì •ë‹µì…ë‹ˆë‹¤!</span>';
            } else {
                resultTitle.innerHTML = '<span class="incorrect">âœ— í‹€ë¦° ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</span>';
            }
            
            const parts = answerOrder.split('>');
            const answerText = 'LED ì „ë“± ' + parts[0] + ' > LED ì „ë“± ' + parts[1] + ' > LED ì „ë“± ' + parts[2];
            
            explanation.innerHTML = `
                <h3>ğŸ“š ë¬¸ì œ í’€ì´</h3>
                
                <p style="margin-bottom: 15px;"><strong>ã€1ë²ˆ ë¬¸ì œ ì±„ì ã€‘</strong></p>
                
                <p><strong>ì—ë„ˆì§€ íš¨ìœ¨</strong>ì€ íˆ¬ì…í•œ ì—ë„ˆì§€ ì¤‘ì—ì„œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì—ë„ˆì§€(ë¹›)ë¡œ ì „í™˜ëœ ë¹„ìœ¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                
                <div class="calculation">
                    ì—ë„ˆì§€ íš¨ìœ¨(%) = (ë¹› ì—ë„ˆì§€ / íˆ¬ì… ì „ê¸° ì—ë„ˆì§€) Ã— 100
                </div>
                
                <p><strong>â€» ì™œ ì—´ ì—ë„ˆì§€ëŠ” ë¬´ì‹œí•˜ë‚˜ìš”?</strong></p>
                <p>ì¡°ëª… ê¸°êµ¬ì˜ ëª©ì ì€ <strong>ë¹›ì„ ë‚´ëŠ” ê²ƒ</strong>ì…ë‹ˆë‹¤. ì—´ ì—ë„ˆì§€ëŠ” ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì—ë„ˆì§€ê°€ ì•„ë‹ˆë¼ <strong>ì†ì‹¤ëœ ì—ë„ˆì§€</strong>ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì—ë„ˆì§€ íš¨ìœ¨ì„ ê³„ì‚°í•  ë•ŒëŠ” <strong>ìœ ìš©í•œ ì—ë„ˆì§€(ë¹›)</strong>ë§Œ ê³ ë ¤í•˜ê³ , ì“¸ëª¨ì—†ì´ ë‚­ë¹„ëœ ì—ë„ˆì§€(ì—´)ëŠ” í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íš¨ìœ¨ì´ ë†’ë‹¤ëŠ” ê²ƒì€ íˆ¬ì…í•œ ì—ë„ˆì§€ë¥¼ ì›í•˜ëŠ” ëª©ì (ë¹›)ìœ¼ë¡œ ë§ì´ ì „í™˜í–ˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.</p>
                
                <p><strong>ê° ì¡°ëª…ê¸°êµ¬ì˜ ì—ë„ˆì§€ íš¨ìœ¨ ê³„ì‚°:</strong></p>
                
                <div class="calculation">
                    â€¢ LED ì „ë“± A = ${currentData.ledA.light} / ${currentData.ledA.input} Ã— 100 = ${correctLedA}%
                    <br>${isLedACorrect ? '<span class="correct">âœ“ ì •ë‹µ</span>' : '<span class="incorrect">âœ— ì˜¤ë‹µ (ì…ë ¥ê°’: ' + userLedA + '%)</span>'}
                    <br><br>
                    â€¢ LED ì „ë“± B = ${currentData.ledB.light} / ${currentData.ledB.input} Ã— 100 = ${correctLedB}%
                    <br>${isLedBCorrect ? '<span class="correct">âœ“ ì •ë‹µ</span>' : '<span class="incorrect">âœ— ì˜¤ë‹µ (ì…ë ¥ê°’: ' + userLedB + '%)</span>'}
                    <br><br>
                    â€¢ LED ì „ë“± C = ${currentData.ledC.light} / ${currentData.ledC.input} Ã— 100 = ${correctLedC}%
                    <br>${isLedCCorrect ? '<span class="correct">âœ“ ì •ë‹µ</span>' : '<span class="incorrect">âœ— ì˜¤ë‹µ (ì…ë ¥ê°’: ' + userLedC + '%)</span>'}
                </div>
                
                <p style="margin-top: 20px; margin-bottom: 15px;"><strong>ã€2ë²ˆ ë¬¸ì œ ì±„ì ã€‘</strong></p>
                
                <p><strong>ì—ë„ˆì§€ íš¨ìœ¨ ë¹„êµ:</strong></p>
                <p style="text-align: center; font-weight: bold; font-size: 15px; margin: 10px 0;">
                    ${answerText.replace(/>/g, '(' + correctLedA + '%) >').replace('A(', 'A(' + correctLedA).replace('B(', 'B(' + correctLedB).replace('C(', 'C(' + correctLedC)}%)
                </p>
                
                <p><strong>ì •ë‹µ: ${answerText}</strong></p>
                <p>${isComparisonCorrect ? '<span class="correct">âœ“ ì •ë‹µ</span>' : '<span class="incorrect">âœ— ì˜¤ë‹µ</span>'}</p>
                
                <p style="margin-top: 20px;"><strong>ğŸ’¡ ê°œë… ì„¤ëª…:</strong></p>
                <p>â€¢ <strong>ì—ë„ˆì§€ íš¨ìœ¨</strong>ì´ ë†’ì„ìˆ˜ë¡ ê°™ì€ ì „ê¸° ì—ë„ˆì§€ë¡œ ë” ë§ì€ ë¹›ì„ ë‚¼ ìˆ˜ ìˆì–´ ê²½ì œì ì´ê³  í™˜ê²½ ì¹œí™”ì ì…ë‹ˆë‹¤.</p>
                <p>â€¢ ì¡°ëª… ê¸°êµ¬ë¥¼ ì„ íƒí•  ë•ŒëŠ” ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ì œí’ˆì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì—ë„ˆì§€ë¥¼ ì ˆì•½í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.</p>
            `;
            
            resultDiv.classList.add('show');
            resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>